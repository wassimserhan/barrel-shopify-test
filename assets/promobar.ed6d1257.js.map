{"version":3,"file":"promobar.ed6d1257.js","sources":["../node_modules/.pnpm/stockpile.js@1.2.1/node_modules/stockpile.js/dist/stockpile.module.js","../node_modules/.pnpm/promobar@0.0.6/node_modules/promobar/src/index.js","../node_modules/.pnpm/pubsub-js@1.5.3/node_modules/pubsub-js/src/pubsub.js","../modules/promobar/promobar.js"],"sourcesContent":["var stockpile = function stockpile(namespace) {\n  var toObject = JSON.parse;\n  var toString = JSON.stringify;\n\n  var store = window.localStorage;\n  var cache = toObject(store.getItem(namespace)) || {};\n\n  return {\n    get: get,\n    set: set,\n    remove: remove,\n    clear: clear,\n    exists: exists\n  };\n\n  // helpers\n\n  function update() {\n    store.setItem(namespace, toString(cache));\n  }\n\n  // API\n\n  function get(name) {\n    return cache[name] || null;\n  }\n\n  function set(name, value) {\n    cache[name] = value;\n    update();\n  }\n\n  function remove(name) {\n    delete cache[name];\n    update();\n  }\n\n  function clear() {\n    store.removeItem(namespace);\n  }\n\n  function exists(name) {\n    return get(name) !== null;\n  }\n};\n\nexport default stockpile;\n","import stockpile from 'stockpile.js'\nimport loop from 'loop.js'\n\nconst storage = stockpile('promobar')\n\nconst now = () => new Date().getTime()\n\nconst height = el => Math.max(el.offsetHeight, el.scrollHeight, el.clientHeight)\n\nconst merge = (target, ...args) => {\n  args.forEach(a => Object.keys(a).forEach(k => target[k] = a[k]))\n  return target\n}\n\nconst error = {\n  content: () => console.warn('promobar: content is undefined')\n}\n\nconst createPlaceholder = () => {\n  let div = document.createElement('div')\n  div.className = 'promobar-placeholder'\n  div.style.height = '0px'\n  document.body.insertBefore(div, document.body.children[0])\n  return div\n}\n\nconst createStyle = () => {\n  let style = document.createElement('style')\n  document.body.insertBefore(style, document.body.children[0])\n  return style\n}\n\n/**\n * Add content to localStorage with timestamp\n * @param {string} content Content of promo bar\n */\nconst store = content => storage.set('root', {\n  timestamp: new Date().getTime(),\n  body: content\n})\n\n/**\n * Curried function: check if bar is enabled\n * @param {number} now Current time in milliseconds \n * @return {boolean} if bar is eligible to be shown\n */\nconst isEnabled = (lifespan, body) => now => {\n  let store = storage.get('root')\n  let day = 1000*60*60*24\n\n  if (!store) return true\n\n  let time = (now - store.timestamp) / day\n\n  return store.body !== body || time >= lifespan ? true : false \n}\n\n/**\n * Add data-promobar attributes to elements,\n * providing they pass their optional checks\n */\nconst addAttributes = targets => targets.forEach(t => {\n  if (!t){ return }\n\n  if (Array.isArray(t)){\n    !!t[1]() ? t[0].setAttribute('data-promobar', 'true') : t[0].removeAttribute('data-promobar') \n  } else {\n    t.setAttribute('data-promobar', 'true') \n  }\n})\n\n/**\n * Set height of placeholder element\n */\nconst offsetPlaceholder = (target, height = null) => target.style.height = height ? `${height}px` : '0px'\n\nexport default (root, opts = {}) => {\n\n  /**\n   * Emitter\n   */\n  const events = loop()\n\n  /**\n   * Merge options with defaults\n   */\n  const config = merge({\n    content: document.getElementById('promobarContent').innerHTML,\n    resize: true,\n    placeholder: true,\n    offsets: [],\n    close: Array.prototype.slice.call(document.querySelectorAll('.js-promobarClose')),\n    lifespan: 1\n  }, opts)\n\n  if (!config.content){ return error.content() }\n\n  /**\n   * Boolean values and helpers\n   */\n  const enabled = isEnabled(config.lifespan, config.content)\n  const usePlaceholder = () => 'function' === typeof config.placeholder ? config.placeholder() : config.placeholder\n  const useOffsets = config.offsets.length > 0 ? true : false\n\n  /**\n   * Generated elements\n   */\n  const placeholder = createPlaceholder() \n  const style = useOffsets ? createStyle() : null\n\n  const state = { \n    active: false, \n    enabled: enabled(now()),\n    height: height(root) \n  }\n\n  /**\n   * Set height of placeholder element\n   * Set styles for other offset elements\n   * @param {number} height Height in pixels of the promo bar\n   */\n  const offset = (height = null) => {\n    usePlaceholder() ? offsetPlaceholder(placeholder, height) : offsetPlaceholder(placeholder)\n\n    if (useOffsets){\n      addAttributes(config.offsets)\n      style.innerHTML = `[data-promobar] { ${height ? `transform: translateY(${height}px) }` : '}' }`\n    }\n  }\n\n  const show = () => {\n    if (!state.enabled){ return }\n\n    state.active = true \n\n    // Set offsets, add active classes\n    offset(state.height)\n    root.classList.add('is-active')\n    document.body.classList.add('promobar-is-active')\n\n    events.emit('show', state)\n  }\n\n  const hide = (force = false) => {\n    if (!state.enabled){ return }\n\n    state.active = false\n\n    if (force){\n      store(config.content)\n      state.enabled = enabled(now()) \n    }\n\n    /**\n     * Reset offsets, remove active classes\n     */\n    offset()\n    root.classList.remove('is-active')\n    document.body.classList.remove('promobar-is-active')\n\n    events.emit('hide', state)\n  }\n\n  /**\n   * @param {boolean} force Force recalculation of offsets\n   */\n  const update = (force = false) => {\n    if (!state.enabled){ return }\n\n    let h = height(root)\n\n    if (force || h !== state.height){\n      state.height = h \n      state.active ? offset(h) : show()\n      events.emit('update', state)\n    } \n  }\n\n  /**\n   * Clear storage, set state.enabled\n   */\n  const reset = () => {\n    storage.remove('root')\n    state.enabled = enabled(now()) \n  }\n\n  config.resize ? window.addEventListener('resize', e => update()) : null\n\n  /**\n   * On close, store content to await expiration\n   * update state.enabled\n   */\n  config.close.forEach(t => t.addEventListener('click', e => {\n    e.preventDefault()\n    hide()\n    store(config.content)\n    state.enabled = enabled(now()) \n    events.emit('disabled', state)\n  }))\n\n  return {\n    ...events,\n    hide,\n    show,\n    update,\n    reset,\n    getState: () => state\n  }\n}\n","/*\nCopyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\nLicense: MIT - http://mrgnrdrck.mit-license.org\n\nhttps://github.com/mroderick/PubSubJS\n*/\n(function (root, factory){\n\t'use strict';\n\n    if (typeof define === 'function' && define.amd){\n        // AMD. Register as an anonymous module.\n        define(['exports'], factory);\n\n    } else if (typeof exports === 'object'){\n        // CommonJS\n        factory(exports);\n\n    }\n\n    // Browser globals\n    var PubSub = {};\n    root.PubSub = PubSub;\n    factory(PubSub);\n    \n}(( typeof window === 'object' && window ) || this, function (PubSub){\n\t'use strict';\n\n\tvar messages = {},\n\t\tlastUid = -1;\n\n\tfunction hasKeys(obj){\n\t\tvar key;\n\n\t\tfor (key in obj){\n\t\t\tif ( obj.hasOwnProperty(key) ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t *\tReturns a function that throws the passed exception, for use as argument for setTimeout\n\t *\t@param { Object } ex An Error object\n\t */\n\tfunction throwException( ex ){\n\t\treturn function reThrowException(){\n\t\t\tthrow ex;\n\t\t};\n\t}\n\n\tfunction callSubscriberWithDelayedExceptions( subscriber, message, data ){\n\t\ttry {\n\t\t\tsubscriber( message, data );\n\t\t} catch( ex ){\n\t\t\tsetTimeout( throwException( ex ), 0);\n\t\t}\n\t}\n\n\tfunction callSubscriberWithImmediateExceptions( subscriber, message, data ){\n\t\tsubscriber( message, data );\n\t}\n\n\tfunction deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n\t\tvar subscribers = messages[matchedMessage],\n\t\t\tcallSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n\t\t\ts;\n\n\t\tif ( !messages.hasOwnProperty( matchedMessage ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (s in subscribers){\n\t\t\tif ( subscribers.hasOwnProperty(s)){\n\t\t\t\tcallSubscriber( subscribers[s], originalMessage, data );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createDeliveryFunction( message, data, immediateExceptions ){\n\t\treturn function deliverNamespaced(){\n\t\t\tvar topic = String( message ),\n\t\t\t\tposition = topic.lastIndexOf( '.' );\n\n\t\t\t// deliver the message as it is now\n\t\t\tdeliverMessage(message, message, data, immediateExceptions);\n\n\t\t\t// trim the hierarchy and deliver message to each level\n\t\t\twhile( position !== -1 ){\n\t\t\t\ttopic = topic.substr( 0, position );\n\t\t\t\tposition = topic.lastIndexOf('.');\n\t\t\t\tdeliverMessage( message, topic, data, immediateExceptions );\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction messageHasSubscribers( message ){\n\t\tvar topic = String( message ),\n\t\t\tfound = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),\n\t\t\tposition = topic.lastIndexOf( '.' );\n\n\t\twhile ( !found && position !== -1 ){\n\t\t\ttopic = topic.substr( 0, position );\n\t\t\tposition = topic.lastIndexOf( '.' );\n\t\t\tfound = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));\n\t\t}\n\n\t\treturn found;\n\t}\n\n\tfunction publish( message, data, sync, immediateExceptions ){\n\t\tvar deliver = createDeliveryFunction( message, data, immediateExceptions ),\n\t\t\thasSubscribers = messageHasSubscribers( message );\n\n\t\tif ( !hasSubscribers ){\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( sync === true ){\n\t\t\tdeliver();\n\t\t} else {\n\t\t\tsetTimeout( deliver, 0 );\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t *\tPubSub.publish( message[, data] ) -> Boolean\n\t *\t- message (String): The message to publish\n\t *\t- data: The data to pass to subscribers\n\t *\tPublishes the the message, passing the data to it's subscribers\n\t**/\n\tPubSub.publish = function( message, data ){\n\t\treturn publish( message, data, false, PubSub.immediateExceptions );\n\t};\n\n\t/**\n\t *\tPubSub.publishSync( message[, data] ) -> Boolean\n\t *\t- message (String): The message to publish\n\t *\t- data: The data to pass to subscribers\n\t *\tPublishes the the message synchronously, passing the data to it's subscribers\n\t**/\n\tPubSub.publishSync = function( message, data ){\n\t\treturn publish( message, data, true, PubSub.immediateExceptions );\n\t};\n\n\t/**\n\t *\tPubSub.subscribe( message, func ) -> String\n\t *\t- message (String): The message to subscribe to\n\t *\t- func (Function): The function to call when a new message is published\n\t *\tSubscribes the passed function to the passed message. Every returned token is unique and should be stored if\n\t *\tyou need to unsubscribe\n\t**/\n\tPubSub.subscribe = function( message, func ){\n\t\tif ( typeof func !== 'function'){\n\t\t\treturn false;\n\t\t}\n\n\t\t// message is not registered yet\n\t\tif ( !messages.hasOwnProperty( message ) ){\n\t\t\tmessages[message] = {};\n\t\t}\n\n\t\t// forcing token as String, to allow for future expansions without breaking usage\n\t\t// and allow for easy use as key names for the 'messages' object\n\t\tvar token = 'uid_' + String(++lastUid);\n\t\tmessages[message][token] = func;\n\n\t\t// return token for unsubscribing\n\t\treturn token;\n\t};\n\n\t/* Public: Clears all subscriptions\n\t */\n\tPubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n\t\tmessages = {};\n\t};\n\n\t/*Public: Clear subscriptions by the topic\n\t*/\n\tPubSub.clearSubscriptions = function clearSubscriptions(topic){\n\t\tvar m; \n\t\tfor (m in messages){\n\t\t\tif (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){\n\t\t\t\tdelete messages[m];\n\t\t\t}\n\t\t}\n\t};\n\n\t/* Public: removes subscriptions.\n\t * When passed a token, removes a specific subscription.\n\t * When passed a function, removes all subscriptions for that function\n\t * When passed a topic, removes all subscriptions for that topic (hierarchy)\n\t *\n\t * value - A token, function or topic to unsubscribe.\n\t *\n\t * Examples\n\t *\n\t *\t\t// Example 1 - unsubscribing with a token\n\t *\t\tvar token = PubSub.subscribe('mytopic', myFunc);\n\t *\t\tPubSub.unsubscribe(token);\n\t *\n\t *\t\t// Example 2 - unsubscribing with a function\n\t *\t\tPubSub.unsubscribe(myFunc);\n\t *\n\t *\t\t// Example 3 - unsubscribing a topic\n\t *\t\tPubSub.unsubscribe('mytopic');\n\t */\n\tPubSub.unsubscribe = function(value){\n\t\tvar isTopic    = typeof value === 'string' && messages.hasOwnProperty(value),\n\t\t\tisToken    = !isTopic && typeof value === 'string',\n\t\t\tisFunction = typeof value === 'function',\n\t\t\tresult = false,\n\t\t\tm, message, t;\n\n\t\tif (isTopic){\n\t\t\tdelete messages[value];\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( m in messages ){\n\t\t\tif ( messages.hasOwnProperty( m ) ){\n\t\t\t\tmessage = messages[m];\n\n\t\t\t\tif ( isToken && message[value] ){\n\t\t\t\t\tdelete message[value];\n\t\t\t\t\tresult = value;\n\t\t\t\t\t// tokens are unique, so we can just stop here\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isFunction) {\n\t\t\t\t\tfor ( t in message ){\n\t\t\t\t\t\tif (message.hasOwnProperty(t) && message[t] === value){\n\t\t\t\t\t\t\tdelete message[t];\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n}));\n","import promobar from 'promobar'\nimport events from 'pubsub-js'\n\nexport default el => {\n  const promo = promobar(el)\n\n  setTimeout(promo.show, 4000)\n\n  window.promobar = promo\n}\n"],"names":["stockpile","namespace","toObject","toString","store","cache","get","set","remove","clear","exists","update","name","value","storage","now","height","el","merge","target","args","a","k","error","createPlaceholder","div","createStyle","style","content","isEnabled","lifespan","body","day","time","addAttributes","targets","t","offsetPlaceholder","promobar$1","root","opts","events","loop","config","enabled","usePlaceholder","useOffsets","placeholder","state","offset","show","hide","force","h","reset","e","factory","exports","PubSub","this","messages","lastUid","hasKeys","obj","key","throwException","ex","callSubscriberWithDelayedExceptions","subscriber","message","data","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","subscribers","callSubscriber","s","createDeliveryFunction","topic","position","messageHasSubscribers","found","publish","sync","deliver","hasSubscribers","func","token","m","isTopic","isToken","isFunction","result","promobar","promo"],"mappings":"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","x_google_ignoreList":[0,1,2]}