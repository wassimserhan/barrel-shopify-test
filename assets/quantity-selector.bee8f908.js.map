{"version":3,"file":"quantity-selector.bee8f908.js","sources":["../modules/quantity-selector/quantity-selector.js"],"sourcesContent":["import select from 'select-dom'\nimport on from 'dom-event'\n\nconst update = (el) => {\n  if (el.disabled) {\n    for (let item of el.children) {\n      item.disabled = true\n    }\n  } else {\n    let value = parseInt(el.field.value)\n\n    el.minus.disabled = (value === el.min)\n    el.plus.disabled = (value === el.max)\n  }\n}\n\nconst count = (el, btn) => {\n  if (!el.disabled) {\n    let value = parseInt(el.field.value)\n\n    if (btn === el.plus && value < el.max) value++\n    if (btn === el.minus && value > el.min) value--\n\n    el.field.value = value\n    update(el)\n  }\n}\n\nexport default (el) => {\n  let field = select('[type=\"number\"]', el)\n  let minus = select('[data-count=\"-\"]', el)\n  let plus = select('[data-count=\"+\"]', el)\n\n  let counter = {\n    disabled: el.hasAttribute('disabled'),\n    field: field,\n    minus: minus,\n    plus: plus,\n    max: parseInt(field.getAttribute('max')) || 999,\n    min: parseInt(field.getAttribute('min')) || 0\n  }\n\n  on(counter.minus, 'click', (e) => {\n    count(counter, counter.minus)\n  })\n  on(counter.plus, 'click', (e) => {\n    count(counter, counter.plus)\n  })\n\n  update(counter)\n\n  on(counter.field, 'blur', () => {\n    update(counter)\n  })\n}\n"],"names":["update","el","item","value","count","btn","quantitySelector","field","select","minus","plus","counter","on","e"],"mappings":"gFAGA,MAAMA,EAAUC,GAAO,CACrB,GAAIA,EAAG,SACL,QAASC,KAAQD,EAAG,SAClBC,EAAK,SAAW,OAEb,CACL,IAAIC,EAAQ,SAASF,EAAG,MAAM,KAAK,EAEnCA,EAAG,MAAM,SAAYE,IAAUF,EAAG,IAClCA,EAAG,KAAK,SAAYE,IAAUF,EAAG,GAClC,CACH,EAEMG,EAAQ,CAACH,EAAII,IAAQ,CACzB,GAAI,CAACJ,EAAG,SAAU,CAChB,IAAIE,EAAQ,SAASF,EAAG,MAAM,KAAK,EAE/BI,IAAQJ,EAAG,MAAQE,EAAQF,EAAG,KAAKE,IACnCE,IAAQJ,EAAG,OAASE,EAAQF,EAAG,KAAKE,IAExCF,EAAG,MAAM,MAAQE,EACjBH,EAAOC,CAAE,CACV,CACH,EAEeK,EAACL,GAAO,CACrB,IAAIM,EAAQC,EAAO,kBAAmBP,CAAE,EACpCQ,EAAQD,EAAO,mBAAoBP,CAAE,EACrCS,EAAOF,EAAO,mBAAoBP,CAAE,EAEpCU,EAAU,CACZ,SAAUV,EAAG,aAAa,UAAU,EACpC,MAAOM,EACP,MAAOE,EACP,KAAMC,EACN,IAAK,SAASH,EAAM,aAAa,KAAK,CAAC,GAAK,IAC5C,IAAK,SAASA,EAAM,aAAa,KAAK,CAAC,GAAK,CAC7C,EAEDK,EAAGD,EAAQ,MAAO,QAAUE,GAAM,CAChCT,EAAMO,EAASA,EAAQ,KAAK,CAChC,CAAG,EACDC,EAAGD,EAAQ,KAAM,QAAUE,GAAM,CAC/BT,EAAMO,EAASA,EAAQ,IAAI,CAC/B,CAAG,EAEDX,EAAOW,CAAO,EAEdC,EAAGD,EAAQ,MAAO,OAAQ,IAAM,CAC9BX,EAAOW,CAAO,CAClB,CAAG,CACH"}