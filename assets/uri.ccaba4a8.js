import{C as m}from"./preact.4b3dbaf5.js";import{c as d}from"./preact-redux.esm.03ebc624.js";import{q as f}from"./index.08ff3111.js";import"./index.3d5aa0a7.js";var l,n;const p=({collection:i,sort:e,selected:r,view:c,price:a,compactView:o})=>({collection:i,sort:e,selected:r,view:c,price:a,compactView:o});let h=(l=d(p),l(n=class extends m{watchedProps(){return["collection","sort","selected","view","price","compactView"]}componentWillUpdate(e){this.updateURI(this.generateURI(e))}generateURI(e){let{collection:r,sort:c,selected:a,view:o,price:u}=e,s=this.watchedProps().filter(t=>t!=="collection").map(t=>{if(t==="selected")return this.createFilterURI(e[t]);if(~["sort","view"].indexOf(t))return`${t}=${e[t]}`;if(t==="price")return`${t}=${e[t].min},${e[t].max}`;if(t==="compactView")return`${t}=${e[t]?1:0}`});return`${r}?${s.join("&")}`}updateURI(e){history.replaceState({},"Collections",e)}createFilterURI(e){return f.stringify({selected:e},{arrayFormat:"bracket"})}})||n);export{h as default};
